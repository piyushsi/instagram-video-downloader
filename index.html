<!DOCTYPE html>
    <html>
<head>
	<meta charset="utf-8">
	<title></title>
	<script type="text/javascript">
		var recordButton, stopButton, recorder;

		window.onload = function () {
		  recordButton = document.getElementById('record');
		  stopButton = document.getElementById('stop');

			// get audio stream from user's mic
	  navigator.mediaDevices.getUserMedia({
	    audio: true
	  })
		.then(function (stream) {
	    recordButton.disabled = false;
	    recordButton.addEventListener('click', startRecording);
	    stopButton.addEventListener('click', stopRecording);
	    recorder = new MediaRecorder(stream);

			// listen to dataavailable, which gets triggered whenever we have
	    // an audio blob available
		  recorder.addEventListener('dataavailable', onRecordingReady);

		});
	};

	function startRecording() {
	  recordButton.disabled = true;
	  stopButton.disabled = false;

	  recorder.start();
	}

	function stopRecording() {
	  recordButton.disabled = false;
	  stopButton.disabled = true;

	  // Stopping the recorder will eventually trigger the `dataavailable` event and we can complete the recording process
	  recorder.stop();
	}

	function onRecordingReady(e) {
	  var audio = document.getElementById('audio');
	  // e.data contains a blob representing the recording
	  audio.src = URL.createObjectURL(e.data);
	  audio.play();
	}

	</script>
</head>
<body>
	<header><h1>Recording</h1></header>
	<div id="main">
	<p>
		<button id="record" disabled>Start</button>
		<button id="stop" disabled>stop</button>
	</p>
	<p><audio id="audio" controls></audio></p>
	</div>

</body>

    </html>
